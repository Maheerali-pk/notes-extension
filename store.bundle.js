(()=>{"use strict";var e={};function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}e.d=(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),window.addEventListener("message",(function(e){var n=window.Store,o=e.data;switch(o.key){case"store":console.log("store from injext store"),this.localStorage.setItem("models",JSON.stringify(n.Chat._models.map((function(e){return{id:e.id._serialized,img:e.contact.getProfilePicThumb().__x_img,name:e.__x_formattedTitle}}))));break;case"sublevelchat":console.log(o.level,o.value),n.Chat._models.forEach((function(e){Object.defineProperty(e,"__x_shouldAppearInList",{get:function(){return!1},set:function(e){}})}));for(var r=[],a=0;a<o.level.child_labels.length;a++){var c;o.level.child_labels[a].child_id==o.value&&(c=r).push.apply(c,t(o.level.child_labels[a].chat_id))}console.log("sub level chat ids",r),0===Object.keys(r).length&&r.constructor===Object?console.log("no contacts"):n.Chat._models.forEach((function(e){r.includes(e.__x_id._serialized)&&Object.defineProperty(e,"__x_shouldAppearInList",{get:function(){return!0},set:function(e){}})})),n.Chat._models[0].t=n.Chat._models[0].t+1;break;case"backsublevel":case"all":n.Chat._models.forEach((function(e){Object.defineProperty(e,"__x_shouldAppearInList",{get:function(){return!0},set:function(e){}})})),n.Chat._models[0].t=n.Chat._models[0].t+1;break;case"chatHandle":for(console.log(o.value),n.Chat._models.forEach((function(e){Object.defineProperty(e,"__x_shouldAppearInList",{get:function(){return!1},set:function(e){}})})),r=[],a=0;a<o.list.length;a++){var i;o.list[a].parent_id==o.value&&(i=r).push.apply(i,t(o.list[a].chat_id))}0===Object.keys(r).length&&r.constructor===Object?console.log("no contacts"):n.Chat._models.forEach((function(e){r.includes(e.__x_id._serialized)&&Object.defineProperty(e,"__x_shouldAppearInList",{get:function(){return!0},set:function(e){}})})),n.Chat._models[0].t=n.Chat._models[0].t+1;break;case"unread":n.Chat._models.forEach((function(e){!1===e.__x_hasUnread?Object.defineProperty(e,"__x_shouldAppearInList",{get:function(){return!1},set:function(e){}}):Object.defineProperty(e,"__x_shouldAppearInList",{get:function(){return!0},set:function(e){}})})),n.Chat._models[0].t=n.Chat._models[0].t+1;break;case"groups":n.Chat._models.forEach((function(e){!1===e.__x_isGroup?Object.defineProperty(e,"__x_shouldAppearInList",{get:function(){return!1},set:function(e){}}):Object.defineProperty(e,"__x_shouldAppearInList",{get:function(){return!0},set:function(e){}})})),n.Chat._models[0].t=n.Chat._models[0].t+1;break;case"google-analytics":console.log("analytics for ".concat(o.value)),window.ga("create","UA-207023293-1","auto"),window.ga("send","event","".concat(o.value));break;case"start_chat_with_number":n.FindChat.findChat(n.WidFactory.createWid(o.value));break;case"active_chat":this.localStorage.setItem("active_chat",n.Chat.getActive().id._serialized),this.localStorage.setItem("active_chat_img",n.Chat.getActive().contact.getProfilePicThumb().__x_img);break;case"send_message_to_contact":window.WAPI.sendMessage(o.value+"@c.us",o.message)}}))})();